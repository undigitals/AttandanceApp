{"version":3,"sources":["navigation/LinkingConfiguration.js","components/Button.js","components/Clock.js","utils/geofence.js","components/CurrentLocation.js","actions/settingsActions.js","actions/types.js","screens/Home.js","components/Input.js","screens/Settings.js","screens/NotFound.js","navigation/index.js","reducers/settingsReducer.js","reducers/index.js","store/index.js","App.js","web-build/register-service-worker.js","node_modules/moment/locale sync /^/.//.*$"],"names":["prefixes","Linking","config","initialRouteName","screens","Home","Settings","NotFound","Button","text","style","loading","containerStyle","rest","View","styles","buttonContainer","TouchableOpacity","button","ActivityIndicator","color","Text","buttonText","StyleSheet","create","width","paddingHorizontal","marginVertical","backgroundColor","borderRadius","alignItems","justifyContent","padding","fontSize","fontWeight","textAlign","Clock","time","useState","Date","toLocaleString","setCurrentTime","useEffect","secondsTimer","setInterval","clearInterval","container","outerCircle","innerCircle","moment","format","Fragment","clockText1","slice","clockText2","height","outerCircleWidth","borderWidth","innerCircleWidth","Number","prototype","toRad","this","Math","PI","calculateGeofence","officeLatitude","officeLongitude","currentLatitude","currentLongitude","officeRadius","console","log","dLat","dLng","a","sin","cos","c","atan2","sqrt","d","parseFloat","toFixed","officeRadiusInFloat","isInRadius","distanceToRadius","distanceToDestination","CurrentLocation","navigation","useNavigation","location","setLocation","isUpdatingLocation","setIsUpdatingLocatin","errorMsg","setErrorMsg","permissionStatus","setPermissionStatus","setIsInRadius","setDistanceToRadius","setDistanceToDestination","latitude","longitude","radius","officeLocation","setOfficeLocation","clockedIn","setClockedIn","previousData","setPreviousData","isLoading","setIsLoading","settings","useSelector","data","parseInt","updateLocation","Platform","OS","Constants","isDevice","async","Location","status","requestPermission","coords","result","AsyncStorage","getItem","prevAttendanceHistory","JSON","parse","length","type","handleClockAction","currentTime","fetch","then","json","features","place_name","newHistoryItem","clockedInTime","timestamp","now","placeName","unshift","setItem","stringify","updateHistory","catch","error","ScrollView","flex","contentContainerStyle","refreshControl","RefreshControl","refreshing","onRefresh","onPress","navigate","link","linkText","disabled","opacity","map","item","key","paddingVertical","marginTop","paragraph","margin","setSettingsData","dispatch","payload","useDispatch","settingsData","getSettings","Input","label","TextInput","autoCapitalize","secureTextEntry","keyboardType","returnKeyType","underlineColorAndroid","allowFontScaling","ellipsizeMode","placeholderTextColor","inputText","marginBottom","paddingBottom","borderColor","setRadius","setLatitude","setLongitude","onSave","value","goBack","alert","placeholder","onChangeText","maxLength","SectionLabel","sectionContainer","sectionLabel","title","replace","Navigation","NavigationContainer","linking","LinkingConfiguration","RootNavigator","Stack","createStackNavigator","Navigator","Screen","name","component","options","headerTitle","headerTitleAlign","initialState","combineReducers","state","action","middleware","thunk","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","App","StatusBar","navigator","addEventListener","serviceWorker","register","scope","info","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports"],"mappings":"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","file":"static/js/app.bb1c0ba8.chunk.js","sourcesContent":["import * as Linking from 'expo-linking'\n\nexport default {\n  prefixes: [Linking.makeUrl('/')],\n  config: {\n    initialRouteName: 'Home',\n    screens: {\n      Home: 'home',\n      Settings: 'settings',\n      NotFound: '*',\n    },\n  },\n}\n","import React from 'react'\nimport { StyleSheet, Text, TouchableOpacity, View, ActivityIndicator } from 'react-native'\n\nconst Button = ({ text, style, loading, containerStyle, ...rest }) => {\n  return (\n    <View style={[styles.buttonContainer, containerStyle]}>\n      <TouchableOpacity style={[styles.button, style]} {...rest}>\n        {loading ? (\n          <ActivityIndicator color=\"#fff\" />\n        ) : (\n            <Text style={styles.buttonText}>{text}</Text>\n          )}\n      </TouchableOpacity>\n    </View>\n  )\n}\n\nexport default Button\n\nconst styles = StyleSheet.create({\n  buttonContainer: {\n    width: '50%',\n    paddingHorizontal: 15,\n    marginVertical: 20,\n  },\n  button: {\n    width: '100%',\n    backgroundColor: '#216ef6',\n    borderRadius: 6,\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 15,\n  },\n  buttonText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#fff',\n    textAlign: 'center',\n  },\n})\n","import React, { useState, useEffect } from 'react'\nimport { StyleSheet, Text, View } from 'react-native'\nimport moment from 'moment'\n\nconst renderTime = (time) => {\n  return (\n    <React.Fragment>\n      <Text style={styles.clockText1}>{`${time.slice(0, -2)}`}</Text>\n      <Text style={styles.clockText2}>{`${time.slice(-2)}`}</Text>\n    </React.Fragment>\n  )\n}\n\nconst Clock = () => {\n  const [currentTime, setCurrentTime] = useState(new Date().toLocaleString())\n\n  useEffect(() => {\n    let secondsTimer = setInterval(() => {\n      setCurrentTime(new Date().toLocaleString())\n    }, 1000)\n    return () => clearInterval(secondsTimer)\n  }, [])\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.outerCircle}>\n        <View style={styles.innerCircle}>\n          {renderTime(moment().format('LTS'))}\n        </View>\n      </View>\n    </View>\n  )\n}\n\nexport default Clock\n\nlet outerCircleWidth = 200\nlet outerCircleHeight = outerCircleWidth\nlet outerCircleBorderWidth = outerCircleWidth / 2\n\nlet innerCircleWidth = outerCircleWidth - 10\nlet innerCircleHeight = innerCircleWidth\nlet innerCircleBorderWidth = innerCircleWidth / 2\n\nconst styles = StyleSheet.create({\n  container: {\n    width: '100%',\n    paddingHorizontal: 15,\n    alignItems: 'center',\n  },\n  outerCircle: {\n    width: outerCircleWidth,\n    height: outerCircleHeight,\n    borderRadius: outerCircleBorderWidth,\n    borderWidth: 1,\n\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  innerCircle: {\n    width: innerCircleWidth,\n    height: innerCircleHeight,\n    borderRadius: innerCircleBorderWidth,\n    borderWidth: 1,\n\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  clockText1: {\n    fontSize: innerCircleWidth * 0.2,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n  clockText2: {\n    fontSize: innerCircleWidth * 0.15,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n})\n","// export default function calcGeoFence(officeLocation, currentLocation) {\n\n//   let R = 6371; // assuming a spherical approximation of the figure of the Earth with radius R=6371 km\n//   let distanceInKm = parseInt(\n//     R *\n//     Math.acos(\n//       Math.sin(officeLocation.latitude) * Math.sin(currentLocation.latitude) +\n//       Math.cos(officeLocation.latitude) *\n//       Math.cos(currentLocation.latitude) *\n//       Math.cos(officeLocation.longitude - currentLocation.longitude)\n//     )\n//   );\n\n//   console.log('distanceInKm:', distanceInKm)\n\n//   if (distanceInKm - officeLocation.radius > 0) {\n//     return false\n//   } else if (distanceInKm - officeLocation.radius <= 0) {\n//     return true\n//   }\n// }\n\n// let officeLocation = {\n//   longitude: -1.2923,\n//   latitude: 0.7102,\n//   radius: 5,\n// };\n\n// let currentLocation = {\n//   longitude: 0.04,\n//   latitude: 0.8527,\n// };\n\n// console.log(calcGeoFence(officeLocation, currentLocation));\n\n\n\n\nNumber.prototype.toRad = function () {\n  return this * Math.PI / 180;\n};\n\nconst calculateGeofence = (officeLatitude, officeLongitude, currentLatitude, currentLongitude, officeRadius) => {\n  console.log('officeLatitude=', officeLatitude, 'officeLongitude=', officeLongitude, 'currentLatitude=', currentLatitude, 'currentLongitude=', currentLongitude);\n\n  var R = 6371; // radius of the Earth in km\n  var dLat = (currentLatitude - officeLatitude).toRad();\n  var dLng = (currentLongitude - officeLongitude).toRad();\n  var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + (officeLatitude.toRad()) * Math.cos(currentLatitude.toRad()) * Math.sin(dLng / 2) * Math.sin(dLng / 2);\n  var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  var d = parseFloat(R * c).toFixed(2);\n\n  console.log('result:', d);\n\n  const officeRadiusInFloat = parseFloat(officeRadius).toFixed(2)\n\n  if (d - officeRadiusInFloat > 0) {\n    return {\n      isInRadius: false,\n      distanceToRadius: d - officeRadiusInFloat,\n      distanceToDestination: d\n    }\n  } else {\n    return {\n      isInRadius: true,\n      distanceToRadius: d - officeRadiusInFloat,\n      distanceToDestination: d\n    }\n  }\n}\n\n// calculate(37.669684, 126.761743, 37.668342, 126.763328)\n\nexport default calculateGeofence","import React, { useState, useEffect } from 'react'\nimport {\n  Platform,\n  StyleSheet,\n  Text,\n  View,\n  ScrollView,\n  TouchableOpacity,\n  RefreshControl,\n} from 'react-native'\nimport * as Location from 'expo-location'\nimport Constants from 'expo-constants'\nimport Clock from './Clock'\nimport Button from './Button'\nimport calculateGeofence from '../utils/geofence'\nimport getAddress from '../utils/storage'\nimport moment from 'moment'\nimport { useNavigation } from '@react-navigation/native'\n\nimport { useSelector, useDispatch } from 'react-redux'\nimport AsyncStorage from '@react-native-community/async-storage'\n\nconst CurrentLocation = () => {\n  const navigation = useNavigation()\n  const [location, setLocation] = useState(null)\n  const [isUpdatingLocation, setIsUpdatingLocatin] = useState(false)\n  const [errorMsg, setErrorMsg] = useState(null)\n  const [permissionStatus, setPermissionStatus] = useState(null)\n  const [isInRadius, setIsInRadius] = useState(false)\n  const [distanceToRadius, setDistanceToRadius] = useState(0)\n  const [distanceToDestination, setDistanceToDestination] = useState(0)\n  const [officeLocation, setOfficeLocation] = useState({\n    latitude: 37.634616,\n    longitude: 126.832663,\n    radius: 5,\n  })\n  const [clockedIn, setClockedIn] = useState(false)\n  const [previousData, setPreviousData] = useState([])\n  const [isLoading, setIsLoading] = useState(false)\n  const { settings } = useSelector(({ settings }) => ({ settings }))\n\n  useEffect(() => {\n    console.log('settings in currentl:', settings)\n    if (settings?.data) {\n      setOfficeLocation({\n        latitude: parseFloat(settings.data.latitude),\n        longitude: parseFloat(settings.data.longitude).toFixed(2),\n        radius: parseInt(settings.data.radius),\n      })\n    }\n  }, [settings])\n\n  const updateLocation = () => {\n    console.log('called')\n    if (Platform.OS === 'android' && !Constants.isDevice) {\n      setErrorMsg(\n        'Oops, this will not work on Sketch in an Android emulator. Try it on your device!'\n      )\n    } else {\n      setIsUpdatingLocatin(true)\n      const requestPermission = async () => {\n        let { status } = await Location.requestPermissionsAsync()\n        if (status !== 'granted') {\n          setPermissionStatus('not-granted')\n          setErrorMsg('Permission to access location was denied')\n          return\n        }\n\n        setPermissionStatus('granted')\n        let location = await Location.getCurrentPositionAsync({})\n        setLocation(location)\n        setIsUpdatingLocatin(false)\n      }\n      requestPermission()\n    }\n  }\n\n  useEffect(() => {\n    updateLocation()\n  }, [])\n\n  let latitude = location?.coords?.latitude\n  let longitude = location?.coords?.longitude\n\n  useEffect(() => {\n    let result = null\n    if (latitude && longitude) {\n      result = calculateGeofence(\n        officeLocation.latitude,\n        officeLocation.longitude,\n        latitude,\n        longitude,\n        officeLocation.radius\n      )\n    }\n    console.log('resulttttt:', result)\n    if (result) {\n      setIsInRadius(result.isInRadius)\n      setDistanceToRadius(result.distanceToRadius)\n      setDistanceToDestination(result.distanceToDestination)\n    }\n  }, [latitude, longitude])\n\n  const updateHistory = async (newHistoryItem) => {\n    try {\n      let prevAttendanceHistory = await AsyncStorage.getItem(\n        'attendanceHistory'\n      )\n      if (prevAttendanceHistory) {\n        prevAttendanceHistory = JSON.parse(prevAttendanceHistory)\n        prevAttendanceHistory.unshift(newHistoryItem)\n      } else {\n        prevAttendanceHistory = []\n        prevAttendanceHistory.unshift(newHistoryItem)\n      }\n      await AsyncStorage.setItem(\n        'attendanceHistory',\n        JSON.stringify(prevAttendanceHistory)\n      )\n      setPreviousData(prevAttendanceHistory)\n      console.log(prevAttendanceHistory)\n    } catch (error) {\n      console.log('saveSettings error:', error)\n    }\n  }\n\n  useEffect(async () => {\n    let prevAttendanceHistory = await AsyncStorage.getItem('attendanceHistory')\n    if (prevAttendanceHistory) {\n      prevAttendanceHistory = JSON.parse(prevAttendanceHistory)\n      if (prevAttendanceHistory.length > 0) {\n        if (prevAttendanceHistory[0].type === 'clockIn') {\n          setClockedIn(true)\n        }\n      }\n      setPreviousData(prevAttendanceHistory)\n    } else {\n      setPreviousData([])\n    }\n  }, [])\n\n  const handleClockAction = (type) => {\n    setIsLoading(true)\n    let currentTime = moment().format('LTS')\n    fetch(\n      `https://api.mapbox.com/geocoding/v5/mapbox.places/${longitude},${latitude}.json?access_token=pk.eyJ1IjoiaWFtYXBhcms4OSIsImEiOiJjanlpZmF5c3AwOXJzM2NxaDQzNWhiaDRmIn0.C-e2EpmyDtsqPbu9FjJz5Q`\n    )\n      .then((data) => data.json())\n      .then((data) => {\n        setIsLoading(false)\n        if (data) {\n          if (data?.features[0]?.place_name) {\n            let newHistoryItem = {\n              clockedInTime: currentTime,\n              timestamp: Date.now(),\n              placeName: data?.features[0]?.place_name,\n              type,\n            }\n\n            setClockedIn(type === 'clockIn' ? true : false)\n            updateHistory(newHistoryItem)\n          }\n        } else {\n          console.log('no data:', data)\n        }\n      })\n      .catch((error) => {\n        setIsLoading(false)\n        console.log('getAddress error:', error)\n      })\n  }\n\n  const renderButton = () => {\n    if (isInRadius && clockedIn) {\n      return (\n        <Button\n          text=\"Clock out\"\n          style={{ backgroundColor: 'orange' }}\n          loading={isLoading}\n          onPress={() => {\n            handleClockAction('clockOut')\n          }}\n        />\n      )\n    } else if (isInRadius === true && clockedIn !== true) {\n      return (\n        <Button\n          text=\"Clock in\"\n          loading={isLoading}\n          onPress={() => {\n            handleClockAction('clockIn')\n          }}\n        />\n      )\n    } else {\n      return (\n        <Button\n          disabled={true}\n          text=\"Out of range\"\n          loading={isLoading}\n          containerStyle={{ opacity: 0.4 }}\n        />\n      )\n    }\n  }\n\n  const renderHistory = () => {\n    return (\n      <View>\n        {previousData.length > 0 &&\n          previousData.map((item) => {\n            const { clockedInTime, timestamp, placeName, type } = item\n            return (\n              <View key={timestamp}>\n                <Text>{clockedInTime}</Text>\n                <Text>{type}</Text>\n                <Text>{placeName}</Text>\n              </View>\n            )\n          })}\n      </View>\n    )\n  }\n\n  return (\n    <ScrollView\n      style={{ backgroundColor: '#fff', flex: 1 }}\n      contentContainerStyle={styles.container}\n      refreshControl={\n        <RefreshControl\n          refreshing={isUpdatingLocation}\n          onRefresh={updateLocation}\n        />\n      }\n    >\n      <TouchableOpacity\n        onPress={() => navigation.navigate('Settings')}\n        style={styles.link}\n      >\n        <Text style={styles.linkText}>Settings</Text>\n      </TouchableOpacity>\n\n      {isUpdatingLocation && <Text>isUpdating</Text>}\n      {errorMsg && (\n        <Text style={{ color: 'red' }}>{JSON.stringify(errorMsg)}</Text>\n      )}\n\n      <Text>\n        GPS is {permissionStatus === 'granted' ? 'enabled' : 'disabled'}\n      </Text>\n\n      <Text>Current position:</Text>\n      <Text>Latitude: {latitude}</Text>\n      <Text>Longitude: {longitude}</Text>\n      <Text>isInRadius: {JSON.stringify(isInRadius)}</Text>\n\n      {!isInRadius && (\n        <Text>Distance to office radius: {distanceToRadius} KM</Text>\n      )}\n      <Text>Distance to office: {distanceToDestination} KM</Text>\n\n      <Clock />\n\n      {renderButton()}\n\n      {renderHistory()}\n    </ScrollView>\n  )\n}\n\nexport default CurrentLocation\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    // flexDirection: 'row',\n    backgroundColor: '#fff',\n    paddingHorizontal: 15,\n    paddingVertical: 15,\n  },\n  link: {\n    marginTop: 15,\n    paddingVertical: 15,\n  },\n  linkText: {\n    fontSize: 14,\n    color: '#2e78b7',\n  },\n  paragraph: {\n    margin: 24,\n    fontSize: 18,\n    textAlign: 'center',\n  },\n})\n","import { SET_SETTINGS } from './types'\n\nexport const setSettingsData = data => dispatch => {\n  dispatch({ type: SET_SETTINGS, payload: data })\n}\n","export const SET_SETTINGS = 'SET_SETTINGS'\n","import React, { useEffect } from 'react'\nimport { StyleSheet, ScrollView, TouchableOpacity, Text } from 'react-native'\nimport AsyncStorage from '@react-native-community/async-storage'\nimport Button from '../components/Button'\nimport CurrentLocation from '../components/CurrentLocation'\nimport Clock from '../components/Clock'\n\nimport { useSelector, useDispatch } from 'react-redux'\nimport { setSettingsData } from '../actions'\n\nexport default function Home({ navigation }) {\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    const getSettings = async () => {\n      try {\n        let settingsData = await AsyncStorage.getItem('settingsData')\n        if (settingsData !== null) {\n          settingsData = JSON.parse(settingsData)\n        } else {\n          settingsData = null\n        }\n        console.log('settingsData', settingsData)\n        dispatch(setSettingsData(settingsData))\n      } catch (error) {\n        console.log('saveSettings error:', error)\n      }\n    }\n\n    getSettings()\n  }, [])\n\n  return (\n    <>\n      <CurrentLocation />\n    </>\n  )\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    backgroundColor: '#fff',\n  },\n  link: {\n    marginTop: 15,\n    paddingVertical: 15,\n  },\n  linkText: {\n    fontSize: 14,\n    color: '#2e78b7',\n  },\n})\n","import React from 'react'\nimport { StyleSheet, TextInput, View, Text } from 'react-native'\n\nconst Input = ({ label, ...rest }) => {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.label}>{label}</Text>\n      <TextInput\n        autoCapitalize=\"none\"\n        secureTextEntry={false}\n        keyboardType=\"numeric\"\n        returnKeyType=\"done\"\n        underlineColorAndroid=\"transparent\"\n        allowFontScaling={false}\n        ellipsizeMode=\"head\"\n        placeholderTextColor='rgba(0,0,0,.2)'\n        style={[\n          styles.inputText,\n        ]}\n        {...rest}\n      />\n    </View>\n  )\n}\n\nexport default Input\n\n\nconst styles = StyleSheet.create({\n  container: {\n    width: '100%',\n    paddingHorizontal: 15,\n    marginBottom: 15\n  },\n  label: {\n    fontSize: 16,\n    paddingBottom: 5,\n  },\n  inputText: {\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: 'rgba(0,0,0,.1)',\n    width: '100%',\n    fontSize: 22,\n    fontWeight: 'bold',\n    padding: 8\n  }\n})","import React, { useState, useEffect } from 'react'\nimport {\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View,\n  ScrollView,\n  Alert,\n} from 'react-native'\nimport AsyncStorage from '@react-native-community/async-storage'\nimport Button from '../components/Button'\nimport Input from '../components/Input'\n\nimport { useSelector, useDispatch } from 'react-redux'\nimport { setSettingsData } from '../actions'\n\nexport default function Settings({ navigation }) {\n  const [radius, setRadius] = useState('')\n  const [latitude, setLatitude] = useState('')\n  const [longitude, setLongitude] = useState('')\n\n  const dispatch = useDispatch()\n  const { settings } = useSelector(({ settings }) => ({ settings }))\n\n  useEffect(() => {\n    console.log('settings:', settings)\n    if (settings?.data) {\n      setRadius(settings.data.radius)\n      setLatitude(settings.data.latitude)\n      setLongitude(settings.data.longitude)\n    }\n  }, [settings])\n\n  const saveSettings = async (value) => {\n    try {\n      await AsyncStorage.setItem('settingsData', JSON.stringify(value))\n      dispatch(setSettingsData(value))\n      navigation.goBack(null)\n    } catch (error) {\n      console.log('saveSettings error:', error)\n    }\n  }\n\n  const onSave = () => {\n    if (radius && latitude && longitude) {\n      let data = {\n        radius,\n        latitude,\n        longitude,\n      }\n      saveSettings(data)\n    } else {\n      alert('All fields are required.')\n    }\n  }\n\n  return (\n    <ScrollView\n      style={{ backgroundColor: '#fff' }}\n      contentContainerStyle={styles.container}\n    >\n      <SectionLabel text=\"Set clock in range\" />\n      <Input\n        label=\"Range in KM\"\n        placeholder=\"5\"\n        value={radius}\n        onChangeText={(value) => {\n          setRadius(value)\n        }}\n        maxLength={3}\n      />\n\n      <SectionLabel text=\"Set office location\" />\n      <Input\n        label=\"Latitude\"\n        placeholder=\"36.94387897\"\n        value={latitude}\n        onChangeText={(value) => {\n          setLatitude(value)\n        }}\n      />\n      <Input\n        label=\"Longitude\"\n        placeholder=\"31.9839897\"\n        value={longitude}\n        onChangeText={(value) => {\n          setLongitude(value)\n        }}\n      />\n\n      <Button\n        text=\"SAVE\"\n        onPress={() => {\n          onSave()\n        }}\n      />\n    </ScrollView>\n  )\n}\n\nconst SectionLabel = ({ text }) => {\n  return (\n    <View style={styles.sectionContainer}>\n      <Text style={styles.sectionLabel}>{text}</Text>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    backgroundColor: '#fff',\n  },\n  link: {\n    marginTop: 15,\n    paddingVertical: 15,\n  },\n  linkText: {\n    fontSize: 14,\n    color: '#2e78b7',\n  },\n  sectionContainer: {\n    width: '100%',\n    paddingHorizontal: 15,\n  },\n  sectionLabel: {\n    fontSize: 22,\n    fontWeight: 'bold',\n    marginVertical: 10,\n  },\n})\n","import * as React from 'react'\nimport { StyleSheet, Text, TouchableOpacity, View } from 'react-native'\n\nexport default function NotFound({ navigation }) {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>This screen doesn't exist.</Text>\n      <TouchableOpacity\n        onPress={() => navigation.replace('Root')}\n        style={styles.link}\n      >\n        <Text style={styles.linkText}>Go to home screen!</Text>\n      </TouchableOpacity>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  link: {\n    marginTop: 15,\n    paddingVertical: 15,\n  },\n  linkText: {\n    fontSize: 14,\n    color: '#2e78b7',\n  },\n})\n","import * as React from 'react'\nimport { NavigationContainer } from '@react-navigation/native'\nimport { createStackNavigator } from '@react-navigation/stack'\nimport LinkingConfiguration from './LinkingConfiguration'\n\nimport Home from '../screens/Home'\nimport Settings from '../screens/Settings'\nimport NotFound from '../screens/NotFound'\n\nexport default function Navigation() {\n  return (\n    <NavigationContainer linking={LinkingConfiguration}>\n      <RootNavigator />\n    </NavigationContainer>\n  )\n}\n\nconst Stack = createStackNavigator()\n\nfunction RootNavigator() {\n  return (\n    <Stack.Navigator initialRouteName=\"Home\">\n      <Stack.Screen\n        name=\"Home\"\n        component={Home}\n        options={{ headerTitle: 'Home', headerTitleAlign: 'center' }}\n      />\n      <Stack.Screen\n        name=\"Settings\"\n        component={Settings}\n        options={{ headerTitle: 'Settings', headerTitleAlign: 'center' }}\n      />\n      <Stack.Screen\n        name=\"NotFound\"\n        component={NotFound}\n        options={{ title: 'Oops!' }}\n      />\n    </Stack.Navigator>\n  )\n}\n","import { SET_SETTINGS } from '../actions/types'\n\nconst initialState = {\n  data: {},\n}\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case SET_SETTINGS:\n      return {\n        ...state,\n        data: action.payload,\n      }\n    default:\n      return state\n  }\n}\n","import { combineReducers } from 'redux'\nimport settingsReducer from './settingsReducer'\n\nexport default combineReducers({\n  settings: settingsReducer,\n})\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport rootReducer from '../reducers'\n\nconst initialState = {}\n\nconst middleware = [thunk]\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeEnhancers(applyMiddleware(...middleware))\n)\n\nexport default store\n","import { StatusBar } from 'expo-status-bar'\nimport React from 'react'\n\nimport Navigation from './navigation'\n\nimport { Provider } from 'react-redux'\nimport store from './store'\n\nexport default function App() {\n  return (\n    <Provider store={store}>\n      <Navigation />\n      <StatusBar style=\"auto\" />\n    </Provider>\n  )\n}\n","/* eslint-env browser */\n\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', function () {\n    navigator.serviceWorker\n      .register('/expo-service-worker.js', { scope: '/' })\n      .then(function (info) {\n        // console.info('Registered service-worker', info);\n      })\n      .catch(function (error) {\n        console.info('Failed to register service-worker', error);\n      });\n  });\n}\n","var map = {\n\t\"./af\": 154,\n\t\"./af.js\": 154,\n\t\"./ar\": 155,\n\t\"./ar-dz\": 156,\n\t\"./ar-dz.js\": 156,\n\t\"./ar-kw\": 157,\n\t\"./ar-kw.js\": 157,\n\t\"./ar-ly\": 158,\n\t\"./ar-ly.js\": 158,\n\t\"./ar-ma\": 159,\n\t\"./ar-ma.js\": 159,\n\t\"./ar-sa\": 160,\n\t\"./ar-sa.js\": 160,\n\t\"./ar-tn\": 161,\n\t\"./ar-tn.js\": 161,\n\t\"./ar.js\": 155,\n\t\"./az\": 162,\n\t\"./az.js\": 162,\n\t\"./be\": 163,\n\t\"./be.js\": 163,\n\t\"./bg\": 164,\n\t\"./bg.js\": 164,\n\t\"./bm\": 165,\n\t\"./bm.js\": 165,\n\t\"./bn\": 166,\n\t\"./bn.js\": 166,\n\t\"./bo\": 167,\n\t\"./bo.js\": 167,\n\t\"./br\": 168,\n\t\"./br.js\": 168,\n\t\"./bs\": 169,\n\t\"./bs.js\": 169,\n\t\"./ca\": 170,\n\t\"./ca.js\": 170,\n\t\"./cs\": 171,\n\t\"./cs.js\": 171,\n\t\"./cv\": 172,\n\t\"./cv.js\": 172,\n\t\"./cy\": 173,\n\t\"./cy.js\": 173,\n\t\"./da\": 174,\n\t\"./da.js\": 174,\n\t\"./de\": 175,\n\t\"./de-at\": 176,\n\t\"./de-at.js\": 176,\n\t\"./de-ch\": 177,\n\t\"./de-ch.js\": 177,\n\t\"./de.js\": 175,\n\t\"./dv\": 178,\n\t\"./dv.js\": 178,\n\t\"./el\": 179,\n\t\"./el.js\": 179,\n\t\"./en-au\": 180,\n\t\"./en-au.js\": 180,\n\t\"./en-ca\": 181,\n\t\"./en-ca.js\": 181,\n\t\"./en-gb\": 182,\n\t\"./en-gb.js\": 182,\n\t\"./en-ie\": 183,\n\t\"./en-ie.js\": 183,\n\t\"./en-il\": 184,\n\t\"./en-il.js\": 184,\n\t\"./en-in\": 185,\n\t\"./en-in.js\": 185,\n\t\"./en-nz\": 186,\n\t\"./en-nz.js\": 186,\n\t\"./en-sg\": 187,\n\t\"./en-sg.js\": 187,\n\t\"./eo\": 188,\n\t\"./eo.js\": 188,\n\t\"./es\": 189,\n\t\"./es-do\": 190,\n\t\"./es-do.js\": 190,\n\t\"./es-us\": 191,\n\t\"./es-us.js\": 191,\n\t\"./es.js\": 189,\n\t\"./et\": 192,\n\t\"./et.js\": 192,\n\t\"./eu\": 193,\n\t\"./eu.js\": 193,\n\t\"./fa\": 194,\n\t\"./fa.js\": 194,\n\t\"./fi\": 195,\n\t\"./fi.js\": 195,\n\t\"./fil\": 196,\n\t\"./fil.js\": 196,\n\t\"./fo\": 197,\n\t\"./fo.js\": 197,\n\t\"./fr\": 198,\n\t\"./fr-ca\": 199,\n\t\"./fr-ca.js\": 199,\n\t\"./fr-ch\": 200,\n\t\"./fr-ch.js\": 200,\n\t\"./fr.js\": 198,\n\t\"./fy\": 201,\n\t\"./fy.js\": 201,\n\t\"./ga\": 202,\n\t\"./ga.js\": 202,\n\t\"./gd\": 203,\n\t\"./gd.js\": 203,\n\t\"./gl\": 204,\n\t\"./gl.js\": 204,\n\t\"./gom-deva\": 205,\n\t\"./gom-deva.js\": 205,\n\t\"./gom-latn\": 206,\n\t\"./gom-latn.js\": 206,\n\t\"./gu\": 207,\n\t\"./gu.js\": 207,\n\t\"./he\": 208,\n\t\"./he.js\": 208,\n\t\"./hi\": 209,\n\t\"./hi.js\": 209,\n\t\"./hr\": 210,\n\t\"./hr.js\": 210,\n\t\"./hu\": 211,\n\t\"./hu.js\": 211,\n\t\"./hy-am\": 212,\n\t\"./hy-am.js\": 212,\n\t\"./id\": 213,\n\t\"./id.js\": 213,\n\t\"./is\": 214,\n\t\"./is.js\": 214,\n\t\"./it\": 215,\n\t\"./it-ch\": 216,\n\t\"./it-ch.js\": 216,\n\t\"./it.js\": 215,\n\t\"./ja\": 217,\n\t\"./ja.js\": 217,\n\t\"./jv\": 218,\n\t\"./jv.js\": 218,\n\t\"./ka\": 219,\n\t\"./ka.js\": 219,\n\t\"./kk\": 220,\n\t\"./kk.js\": 220,\n\t\"./km\": 221,\n\t\"./km.js\": 221,\n\t\"./kn\": 222,\n\t\"./kn.js\": 222,\n\t\"./ko\": 223,\n\t\"./ko.js\": 223,\n\t\"./ku\": 224,\n\t\"./ku.js\": 224,\n\t\"./ky\": 225,\n\t\"./ky.js\": 225,\n\t\"./lb\": 226,\n\t\"./lb.js\": 226,\n\t\"./lo\": 227,\n\t\"./lo.js\": 227,\n\t\"./lt\": 228,\n\t\"./lt.js\": 228,\n\t\"./lv\": 229,\n\t\"./lv.js\": 229,\n\t\"./me\": 230,\n\t\"./me.js\": 230,\n\t\"./mi\": 231,\n\t\"./mi.js\": 231,\n\t\"./mk\": 232,\n\t\"./mk.js\": 232,\n\t\"./ml\": 233,\n\t\"./ml.js\": 233,\n\t\"./mn\": 234,\n\t\"./mn.js\": 234,\n\t\"./mr\": 235,\n\t\"./mr.js\": 235,\n\t\"./ms\": 236,\n\t\"./ms-my\": 237,\n\t\"./ms-my.js\": 237,\n\t\"./ms.js\": 236,\n\t\"./mt\": 238,\n\t\"./mt.js\": 238,\n\t\"./my\": 239,\n\t\"./my.js\": 239,\n\t\"./nb\": 240,\n\t\"./nb.js\": 240,\n\t\"./ne\": 241,\n\t\"./ne.js\": 241,\n\t\"./nl\": 242,\n\t\"./nl-be\": 243,\n\t\"./nl-be.js\": 243,\n\t\"./nl.js\": 242,\n\t\"./nn\": 244,\n\t\"./nn.js\": 244,\n\t\"./oc-lnc\": 245,\n\t\"./oc-lnc.js\": 245,\n\t\"./pa-in\": 246,\n\t\"./pa-in.js\": 246,\n\t\"./pl\": 247,\n\t\"./pl.js\": 247,\n\t\"./pt\": 248,\n\t\"./pt-br\": 249,\n\t\"./pt-br.js\": 249,\n\t\"./pt.js\": 248,\n\t\"./ro\": 250,\n\t\"./ro.js\": 250,\n\t\"./ru\": 251,\n\t\"./ru.js\": 251,\n\t\"./sd\": 252,\n\t\"./sd.js\": 252,\n\t\"./se\": 253,\n\t\"./se.js\": 253,\n\t\"./si\": 254,\n\t\"./si.js\": 254,\n\t\"./sk\": 255,\n\t\"./sk.js\": 255,\n\t\"./sl\": 256,\n\t\"./sl.js\": 256,\n\t\"./sq\": 257,\n\t\"./sq.js\": 257,\n\t\"./sr\": 258,\n\t\"./sr-cyrl\": 259,\n\t\"./sr-cyrl.js\": 259,\n\t\"./sr.js\": 258,\n\t\"./ss\": 260,\n\t\"./ss.js\": 260,\n\t\"./sv\": 261,\n\t\"./sv.js\": 261,\n\t\"./sw\": 262,\n\t\"./sw.js\": 262,\n\t\"./ta\": 263,\n\t\"./ta.js\": 263,\n\t\"./te\": 264,\n\t\"./te.js\": 264,\n\t\"./tet\": 265,\n\t\"./tet.js\": 265,\n\t\"./tg\": 266,\n\t\"./tg.js\": 266,\n\t\"./th\": 267,\n\t\"./th.js\": 267,\n\t\"./tk\": 268,\n\t\"./tk.js\": 268,\n\t\"./tl-ph\": 269,\n\t\"./tl-ph.js\": 269,\n\t\"./tlh\": 270,\n\t\"./tlh.js\": 270,\n\t\"./tr\": 271,\n\t\"./tr.js\": 271,\n\t\"./tzl\": 272,\n\t\"./tzl.js\": 272,\n\t\"./tzm\": 273,\n\t\"./tzm-latn\": 274,\n\t\"./tzm-latn.js\": 274,\n\t\"./tzm.js\": 273,\n\t\"./ug-cn\": 275,\n\t\"./ug-cn.js\": 275,\n\t\"./uk\": 276,\n\t\"./uk.js\": 276,\n\t\"./ur\": 277,\n\t\"./ur.js\": 277,\n\t\"./uz\": 278,\n\t\"./uz-latn\": 279,\n\t\"./uz-latn.js\": 279,\n\t\"./uz.js\": 278,\n\t\"./vi\": 280,\n\t\"./vi.js\": 280,\n\t\"./x-pseudo\": 281,\n\t\"./x-pseudo.js\": 281,\n\t\"./yo\": 282,\n\t\"./yo.js\": 282,\n\t\"./zh-cn\": 283,\n\t\"./zh-cn.js\": 283,\n\t\"./zh-hk\": 284,\n\t\"./zh-hk.js\": 284,\n\t\"./zh-mo\": 285,\n\t\"./zh-mo.js\": 285,\n\t\"./zh-tw\": 286,\n\t\"./zh-tw.js\": 286\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 383;"],"sourceRoot":""}